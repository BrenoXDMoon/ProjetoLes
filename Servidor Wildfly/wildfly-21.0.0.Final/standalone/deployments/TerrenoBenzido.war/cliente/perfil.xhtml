<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

<h:head>
	<h:outputStylesheet library="css" name="bootstrap.min.css" />
	<h:outputStylesheet library="css" name="styles.css" />
</h:head>

<h:body>
	<h:form>
		<header class="site-header sticky-top py-1">
			<nav class="container d-flex flex-column flex-md-row justify-content-between">
				<a class="navbar-brand mb-0 h1" href="#{request.contextPath}/index.xhtml">Terreno Benzido</a>
				<a class="py-2 d-none d-md-inline-block" href="#{request.contextPath}/carrinho/carrinho.xhtml">Carrinho</a>
			</nav>
		</header>
	</h:form>


	<h1 class='text-white'>Perfil</h1>
	
	<a href="#{request.contextPath}/cliente/editaDadosCliente.xhtml">Editar dados de cliente</a>
	
	<h:dataTable var="cliente" value="#{request.getSession().getAttribute('cliente')}"
		class="table table-bordered table-striped table-hover bg-white">
		<h:column>
			<f:facet name="header">Endereços</f:facet>
			<ui:repeat value="#{cliente.enderecos}" var="endereco">
                #{endereco.cidade}<p> </p>
            </ui:repeat>
		</h:column>
		
		<h:column>
			<f:facet name="header">Excluir</f:facet>
			<ui:repeat value="#{cliente.enderecos}" var="endereco">
				<h:commandButton action="#{clienteBean.excluirCliente(endereco)}" value="Excluir"></h:commandButton>
			</ui:repeat>
		</h:column>
		
	</h:dataTable>
	
	<h:dataTable value="#{request.getSession().getAttribute('cliente')}" var="cliente" class="table table-bordered table-striped table-hover bg-white">
	
		<h:column>
			<f:facet name="header">Números do Cartão</f:facet>
			<ui:repeat value="#{cliente.cartoes}" var="cartao">
				#{cartao.numeroCartao}
			</ui:repeat>
			
			
		</h:column>
		
		<h:column>
			<f:facet name="header">Código de Segurança</f:facet>
			<ui:repeat value="#{cliente.cartoes}" var="cartao">
				#{cartao.codigoSeguranca}
			</ui:repeat>
		</h:column>
		
		<h:column>
			<f:facet name="header">Bandeira</f:facet>
			<ui:repeat value="#{cliente.cartoes}" var="cartao">
				#{cartao.bandeira}
			</ui:repeat>
		</h:column>
		
		<h:column>
			<f:facet name="header">Nome Impresso</f:facet>
			<ui:repeat value="#{cliente.cartoes}" var="cartao">
				#{cartao.nomeImpresso}
			</ui:repeat>
		</h:column>
		
		<h:column>
			<f:facet name="header">Validade</f:facet>
			<ui:repeat value="#{cliente.cartoes}" var="cartao">
				#{cartao.validade}
			</ui:repeat>
		</h:column>
		
		<h:column>
			<f:facet name="header">Validade</f:facet>
			<ui:repeat value="#{cliente.cartoes}" var="cartao">
				<h:commandButton action="#{clienteBean.excluirCartao(cartao)}" value="Excluir"></h:commandButton>
			</ui:repeat>
		</h:column>
		
	</h:dataTable>
	
	
</h:body>

</html>
